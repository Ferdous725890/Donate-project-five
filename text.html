<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project-Five</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="lexend-font">
    <header class="w-full bg-white sticky top-0 z-10">
        <section class="bg-[#d3da4b37] bd">
            <nav class="lg:w-11/12 flex justify-between mx-auto items-center mt-4">
                <button class="py-3 px-8 bg-[#B4F461] text-xl font-normal rounded-lg" id="blogButton">Blog</button>
                <div class="flex items-center text-xl font-normal">
                    <img src="assets/logo.png" alt="Logo">
                    <h1 class="ml-2">Donate Bangladesh</h1>
                </div>
                <div class="flex items-center text-xl font-normal">
                    <img src="assets/coin.png" alt="Coin">
                    <h1 id="accountBalance">5500</h1>
                </div>
            </nav>
        </section>
        <div class="mt-20 flex justify-center">
            <button class="py-3 px-8 bg-[#B4F461] text-xl font-normal rounded-lg mr-4" id="donationButton">Donation</button>
            <button class="py-3 px-8 bg-transparent text-xl font-normal rounded-lg border" id="historyButton">History</button>
        </div>
    </header>

    <main class="mt-8 container mx-auto">
        <section class="w-11/12 mx-auto" id="donationSection">
            <div class="donation-card flex gap-8 mb-10 border-two p-8 rounded-2xl">
                <div class="flex-1">
                    <img src="assets/noakhali.png" alt="Noakhali">
                </div>
                <div class="flex-1">
                    <div class="flex items-center justify-center bg-color-one w-32 h-11 rounded-lg text-xl font-normal gap-2 mb-4">
                        <img src="assets/coin.png" alt="Coins">
                        <h4 class="current-donation-amount">500 T</h4>
                    </div>
                    <h1 class="text-xl font-bold mb-4">Donate for Flood at Noakhali, Bangladesh</h1>
                    <p>The recent floods in Noakhali have caused significant damage. Your donation will help provide essential supplies.</p>
                    <input type="number" placeholder="Write Donation Amount" class="input input-bordered input-accent w-full donation-input" />
                    <button class="w-full py-2 bg-[#B4F461] text-xl font-normal rounded-lg donateNowButton">Donate Now</button>
                </div>
            </div>
            <!-- Add two more cards similarly -->
        </section>

        <section class="w-11/12 mx-auto hidden" id="historySection">
            <h2 class="text-xl font-bold">Donation History</h2>
            <ul id="historyList"></ul>
        </section>
    </main>

    <script>
        let accountBalance = 5500;
        const history = [];

        // Toggle between Donation and History sections
        document.getElementById('donationButton').onclick = function() {
            document.getElementById('donationSection').classList.remove('hidden');
            document.getElementById('historySection').classList.add('hidden');
            this.classList.add('bg-[#B4F461]');
            document.getElementById('historyButton').classList.remove('bg-[#B4F461]');
        };

        document.getElementById('historyButton').onclick = function() {
            document.getElementById('donationSection').classList.add('hidden');
            document.getElementById('historySection').classList.remove('hidden');
            this.classList.add('bg-[#B4F461]');
            document.getElementById('donationButton').classList.remove('bg-[#B4F461]');
        };

        // Donation button functionality
        document.querySelectorAll('.donateNowButton').forEach(button => {
            button.onclick = function() {
                const card = this.closest('.donation-card');
                const input = card.querySelector('.donation-input');
                const amountToDonate = parseFloat(input.value);
                const currentDonationElement = card.querySelector('.current-donation-amount');
                const currentDonationAmount = parseFloat(currentDonationElement.textContent);

                if (!amountToDonate || amountToDonate <= 0) {
                    alert('Please enter a valid donation amount.');
                    return;
                }
                if (amountToDonate > accountBalance) {
                    alert('Insufficient balance for this donation.');
                    return;
                }

                // Update balance and donation amount
                accountBalance -= amountToDonate;
                currentDonationAmount += amountToDonate;
                currentDonationElement.textContent = currentDonationAmount + " T";
                document.getElementById('accountBalance').textContent = accountBalance;

                // Log the donation in history
                const timestamp = new Date().toLocaleString();
                history.push(`Donated ${amountToDonate} T on ${timestamp}`);
                updateHistory();
                input.value = ''; // Clear input field
            };
        });

        // Update history section
        function updateHistory() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            history.forEach(entry => {
                const li = document.createElement('li');
                li.textContent = entry;
                historyList.appendChild(li);
            });
        }

        // Initial load: Show donation section
        document.getElementById('donationSection').classList.remove('hidden');
    </script>
</body>

</html>
